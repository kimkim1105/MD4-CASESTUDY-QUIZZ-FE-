<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Change Password</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>

<a href="user-acount.html">Back to User Account Page</a>
<h1> Change Password</h1>
<div id="display12">

</div>

<input type="text" id="currentPassword" name="currentPassword" placeholder="currentPassword">
<input type="text" id="newPassword" name="newPassword" placeholder="newPassword">

<button onclick="changePassword()">Change Password</button>

</body>
<script>
    let show = document.getElementById("display12");

    function changePassword() {
        let currentPassword = document.getElementById("currentPassword").value;
        let newPassword = document.getElementById("newPassword").value;
        let data = {
            currentPassword: currentPassword,
            newPassword: newPassword
        };
        console.log(data)
        let token = window.sessionStorage.getItem("TOKEN_KEY");
        $.ajax({
            type: "PUT",
            contentType: 'application/json; charset=utf8',
            headers: {
                Authorization: 'Bearer ' + token
            },
            url: "http://localhost:8080/api/auth/change-pasword",
            data: JSON.stringify(data),
            success: function () {
                console.log(data)
                alert("Change Password Success!!!")
                window.location.href = 'user-acount.html';
            }

        })

    }
</script>
</html>